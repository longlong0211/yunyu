<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../css/mui.min.css">
		<script src="../js/mui.js"></script>
	
		<style>
			#map {
				width: 100%;
				position: fixed;
				top: 0px;
				bottom: 0px;
				line-height: 200px;
				text-align: center;
				background: #FFFFFF;
			}
		</style>
	</head>

	<body>
		<div class="mui-content" id="map">
		    
		</div>
		<script>
			mui.plusReady(function(){
				var map = new plus.maps.Map("map");
//				1:获取用户当前位置
//				map.showUserLocation( true );
//				map.showZoomControls( true );
//				map.getUserLocation( function ( state, point ){
//					if( 0 == state ){
//						//map.setCenter( point, 20 );
//						map.centerAndZoom(point, 18);
//					}else{
//						alert( "Failed!" );
//					}
//				} );
//
				plus.maps.Map.geocode("上海市徐汇区田林路140号越界创意园28号楼311-312室",{city:"上海"},function(event){
					var address = event.address;  // 转换后的地理位置
					var point = event.coord;  // 转换后的坐标信息
					var coordType = event.coordType;	// 转换后的坐标系类型
					map.centerAndZoom(point, 22);
					var marker=new plus.maps.Marker(point);
					marker.setIcon("/logo.png");
					marker.setLabel("位置");
					//var bubble = new plus.maps.Bubble("打造最好的HTML5移动开发工具");
					//marker.setBubble(bubble);
					map.addOverlay(marker);
					//alert("Coord:"+JSON.stringify(point));
				},function(e){
					alert("Failed:"+JSON.stringify(e));
				});
			});
		</script>	
	</body>
</html>